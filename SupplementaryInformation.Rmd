---
title: "Investigating how administrative burden and search costs affect social inequalities
  in early childcare access, a randomised controlled trial"
author: "Supplementary Information for the manuscript  submitted to Nature Human Behaviour"
date: "2024-10-07"
bibliography: NHB.bib
csl: nature.csl
always_allow_html: true
language:
  label:
    fig: 'Figure '
    tab: 'Table '
    eq: 'Equation '
output: 
    bookdown::word_document2: 
      reference_docx: FormatRefWordFinal.docx
      fig_caption: yes
      toc: no
    officedown::rdocx_document:
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,message=FALSE, warning=FALSE,fig.width = 8,fig.height = 5,fig.pos = "H" #, 
#cache.lazy = FALSE)
)
doc.type <- knitr::opts_knit$get('rmarkdown.pandoc.to')

library(pacman)
p_load(here)
p_load(officedown)
p_load(DesignLibrary)


```



```{r LoadLibraries, include=FALSE}
source(here("RScripts","LoadInstallPackages.R"), local = knitr::knit_global())
```

```{r LoadData, include=FALSE}
source(here("RScripts","LoadAllData.R"), local = knitr::knit_global())
```

```{r ImportAllFunctions, include=FALSE}
source(here("RScripts","AllFunctions.R"), local = knitr::knit_global())
```


```{r, include=FALSE, cache=FALSE}
knitr::read_chunk(here("RScripts","Appendix.R"))
```


# Part 1: Early childcare in France and in our supply in the areas

The average coverage rate in our sample is `r round(mean(MainDB$Taux.de.couv.global_2021, na.rm = TRUE),1)` slots for 100 children aged 0-3 years. The average coverage rate in each district, including only the cities included in our sample, can be seen in Table \@ref(tab:DescriptiveAvgCoverageRate). The coverage rate is the number of available slot in a given area for 100 children aged 0-3 years.
The highest coverage rate is found in Paris, with 71.6 slots in 2021, and the lowest in Seine-Saint-Denis, with 38.5 slots. The average coverage rate in France in 2021 is 59.1 slots per 100 children aged 0-3 years.
In each district, the coverage rate is higher for daycare than for private childminders, with varying proportions in each districts. 


```{r DescriptiveAvgCoverageRate,echo=FALSE,results='asis', cache=TRUE, out.width='100%'}
```

This data can be compared to the average coverage rate in the whole districts in 2021 (i.e. including cities in which none of the households in our sample lived, but are in the same districts) in Table \@ref(tab:DescriptiveCoverageRateDaycareChildmindersDept). The results are about the same. The highest coverage rate is found in Paris, with 80.1 slots, and the lowest in Seine-Saint-Denis, with 34.5 slots. 

```{r DescriptiveCoverageRateDaycareChildmindersDept,echo=FALSE,results='asis', cache=TRUE,out.width='100%'}
```

The average coverage rate in our sample is `r round(mean(MainDB$Taux.de.couv.global_2021, na.rm = TRUE),1)` slots for 100 children aged 0-3 years, which is slightly lower than the national rate, displayed in Table \@ref(tab:DescriptiveCoverageRateDaycareChildmindersFrance). The national coverage rates in daycare and private childminders can also be found in Table \@ref(tab:DescriptiveCoverageRateDaycareChildmindersFrance). Our districts have a higher coverage rate in daycare than the national average, but a lower coverage rate in private childminders. Unlike in the districts included in our sample, the most available early childcare option in France is private childminders, with 27.3 slots per 100 children aged 0-3 years in 2021, compared to 26 slots in daycare. 


```{r DescriptiveCoverageRateDaycareChildmindersFrance,echo=FALSE,results='asis', cache=TRUE}
```


# Part 2: Descriptive statistics 

## Descriptive tables of the main variables 

#### Distribution of the variables
```{r Descriptive, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```


#### Distribution of all variables by SES 
```{r DiffEduc, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```


#### Distribution of all variables by migration background
```{r DiffMig, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Distribution of all variables by baseline knowledge
```{r DiffInfo, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Distribution of all variables by temporal orientation
```{r DiffPresentBias, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Distribution of all variables by previous childcare usage
```{r DiffUse, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Distribution of all variables by activity status
```{r DiffActive, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Distribution of all variables by district
To perform the equality tests, we break down the comparison across districts in three parts: Paris vs. other districts, Seine-Saint-Denis vs. other districts, and Val de Marne. 

##### Paris vs. other districts

```{r DiffParis, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Seine-Saint-Denis

```{r DiffSSD, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Val de Marne

```{r DiffVDM, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```


## Correlation matrix between the main variables

This plot shows the tetrachoric correlation coefficients of the different variables used in the article. 

```{r correlation, echo=FALSE,out.width='100%', cache=TRUE}
```

## Descriptive results on intention, application and access to early childcare by SES in the control group 

```{r IntentionActionSES, echo=FALSE,out.width='100%', cache=TRUE}
```

## Descriptive results on intention, application and access to early childcare by migration background in the control group 

```{r IntentionActionMig, echo=FALSE,out.width='100%', cache=TRUE}
```

# Part 3: Main results


## Heterogeneous effects of the information-only treatment on early childcare applications and access

```{r EarlyChildcareHetTableInformationOnly,echo=FALSE,out.width='120%', results='asis', cache=TRUE, out.width='100%',fig.cap="Heterogeneous effects of the information-only treatment on early childcare applications and access - Intention-to-treat estimates (ITT) estimates."}
```



## Heterogeneous effects of the information-only treatment on daycare applications and access

```{r DaycareTableInformationOnly,echo=FALSE,out.width='120%', results='asis', cache=TRUE, out.width='100%',fig.cap="Heterogeneous effects of the information-only treatment on early childcare applications and access - Intention-to-treat estimates (ITT) estimates."}
```

# Part 4: Mechanisms

## Information Costs 

### Heterogeneous effects of the treatments by main dimensions of information costs presented in the manuscript

#### Application and access to early childcare

```{r MechanismsInformationCosts,echo=FALSE,out.width='120%', results='asis', cache=TRUE}
```

#### Application and access to daycare

```{r MechanismsInformationCostsDaycare,echo=FALSE,out.width='120%', results='asis', cache=TRUE}
```


### Heterogeneous effects of the treatments on generic knowledge of the early childcare system (pre-registered intermediary outcomes)
#### Number of early childcare types known

```{r MechanismsGenericKnowledge,echo=FALSE,out.width='120%', results='asis', cache=TRUE}
```

#### Knowledge that early childcare is subsidised

```{r MechanismsGenericKnowledgeSubsidies,echo=FALSE,out.width='120%', results='asis', cache=TRUE}
```


## Psychological and social costs

### Heterogeneous effects of the treatments by main dimensions of psychological costs presented in the manuscript

#### Application and access to early childcare

```{r MechanismPsychologicalCosts,echo=FALSE,out.width='120%', results='asis', cache=TRUE}
```

#### Application and access to daycare

```{r MechanismPsychologicalCostsDaycare,echo=FALSE,out.width='120%', results='asis', cache=TRUE}
```


### Interaction effects Active X SES 

```{r InteractionSESActive, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

### Attitudes & SES (Reviewer 1)

#### More on trust in early childcare facilities

##### Interaction SES and trust

As shown in Table \@ref(tab:InteractionSESTrust), the effects on access among low-trust individuals are concentrated in the low-SES subgroup. In this group, where access was nearly non-existent in the control group, the treatment increased the probability of obtaining a spot by 68 percentage points ; average counterfactual = 0.04; ß = 0.68; SE = 0.23; 95% SCI, (0.17, 1.18); adjusted p-value = 0.006).

```{r InteractionSESTrust, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```


#### Beliefs about the benefits of early childcare

Following Steinberg & Leinhart (2022), we inestigated heterogeneous effects according to parents' beliefs about the benefits of early childcare for children’s development.
Overall, our findings suggest that beliefs about the developmental benefits of early childcare are not a major driver of the observed inequalities in application and access. In the control group, there is less than a 10-percentage point difference in both application and access probabilities between those who believed in the benefits of early childcare and those who did not (see Table \@ref(tab:LikertReturnHK1or0)). Furthermore, we did not find evidence of differential treatment effects of the information + support treatment on application and access by beliefs in general, which aligns with this interpretation

##### Early childcare application and access

```{r LikertReturnHK1or0, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Daycare application and access

As shown in Table \@ref(tab:BeliefsReturnDaycare), for daycare specifically, this treatment led to a 16-percentage point increase in probability that those who believe in the benefits of early childcare apply. Yet, we found similar point estimates among those who do not believe in these benefits, although the effects were not statistically significant, potentially due to limited statistical power. We found no effect on access.


```{r BeliefsReturnDaycare, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Interaction SES and beliefs

This lack of significance likely arise frome considerable heterogeneity within this latter group, as shown in Table \@ref(tab:InteractionSESBeliefs). When examining the interaction between SES and beliefs, we found that the effects of the information + support treatment are concentrated among low-SES households who do not initially believe in the benefits of early childcare for their child. Specifically, for compliers, the treatment increased by 78% probability of applying (average counterfactual Low-SES & no belief in benefits = 0.46; ß = 0.36 SE = 0.1; 95% SCI, (0.01, 0.71); adjusted p-value = 0.042), which translated into a 40-percentage point increase in access, therefore nearly doubling their probability of accessing a spot compared to the control group (average counterfactual Low-SES & no belief in benefits = 0.24; ß = 0.40 SE = 0.15; 95% SCI, (0.08, 0.72);  adjusted p-value = 0.011).

```{r InteractionSESBeliefs, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```



### More on Norms

#### Descriptive norms

##### Effects of the Information-only treatment on early childcare application and access

```{r NormsDecriptiveT1, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Effects of the Information + Support treatment on early childcare application and access 

```{r NormsDecriptive, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Effects of the Information-only treatment on daycare application and access

```{r DescriptiveDaycareT1, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Effects of the Information + Support treatment on daycare application and access

```{r NormsDaycareDescriptive, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```


##### Interaction SES Descriptive Norms

```{r InteractionSESDescriptiveNorms, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Prescriptive norms
Following Steinberg & Kleinert (2021), we relied on a measure that assessed whether parents anticipated disapproval from friends and relatives if they used early childcare. Overall, our analyses suggest that the expectation of disapproval is not a significant determinant of observed disparities by SES and migration background, as shown in Table \@ref(tab:Norms) and \@ref(tab:NormsDaycare). Firstly, in the control group, we observed only small differences in the application and access to early childcare – never exceeding 6 percentage points – between households that expected social disapproval and those that did not. Secondly, we found no heterogeneous treatment effect of our interventions in relation to prescriptive norms, at least for early childcare as a whole.

#### Effects of the Information-only treatment on early childcare application and access

```{r NormsT1, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Effects of the Information + Support treatment on early childcare application and access 

```{r Norms, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Effects of the Information-only treatment on daycare application and access

```{r NormsDaycareT1, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

##### Effects of the Information + Support treatment on daycare application and access 

```{r NormsDaycare, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

The observation that our intervention influenced daycare application and access, but not early childcare, indicates that our treatment facilitated households with favorable prescriptive norms in selecting their preferred type of early childcare facility, rather than merely enhancing access to any form of early childcare. 

##### Interaction SES Prescriptive Norms
```{r InteractionSESNorms, echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```


## Structural barriers

Overall, our findings indicated that accessibility barriers, particularly shortages of available slots, represented the primary obstacle encountered by households. As shown in Figure \@ref(fig:GraphReasonsNoECS), the majority of households that applied yet did not use any early childcare reported that their applications were either rejected (47%), that they are still awaiting a response (23.4%), or that they are on a waiting list (14.8%). This suggests the presence of accessibility barriers. However, the reasons for their rejection on the supply-side remain unknown, presenting an opportunity for further investigation in future studies.

```{r GraphReasonsNoECS, echo=FALSE,out.width='100%', results='asis', cache=TRUE, fig.cap="Households' perceived reasons for failing to secure an early childcare slot
"}
```

Results for a second item in the endline questionnaire, which tackled the reasons why households did not use they preferred mode of childcare, are displayed in Figure \@ref(fig:GraphReasonIdealSES) and Figure \@ref(fig:GraphReasonIdealMigration) below. We split answers by SES and migration background:

```{r GraphReasonIdealSES, message=FALSE, warning=FALSE,echo=FALSE,out.width='100%', results='asis', cache=TRUE, fig.cap= "Main reasons why households did not use they preferred mode of childcare, by SES"} 
```

```{r GraphReasonIdealMigration, message=FALSE, warning=FALSE,echo=FALSE,out.width='100%', results='asis', cache=TRUE, fig.cap= "Main reasons why households did not use they preferred mode of childcare, by migration background"} 
```

### Average effects of the information + support treatment on early childcare and daycare application and access by district

The effectiveness of our interventions varies substantially according to the local context. On the one hand, all effects on applications for low-SES households are concentrated outside of Paris, which could be consistent with a ceiling effect. In Paris, where the supply of early childcare in general and daycare specifically are the highest in France, inequalities were found to be very low in our sample and thus we found no effects of our intervention on application. On the other hand, all effects on daycare access for high-SES households were concentrated in Paris

#### Early childcare
```{r HetCoverageRateEarlyChildcare,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```



#### Daycare
```{r HetCoverageRateDaycare,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```


# Part 5: Robustness checks

## Sensitivity analysis of the main results: SES measurment
To ensure the robustness of the findings, we tested alternative definitions of socioeconomic status. Specifically, we considered mother's occupation using the International Socio-Economic Index of Occupational Status (ISEI) and a composite SES score that accounts for the highest occupation score and the highest education level in the household. As depicted below, the patterns of results remain constant with these definitions of SES.

### Information-only treatment

#### Heterogeneous effects of the information-only treatment on early childcare applications

```{r RobustnessHTESESGraphsT1EarlyChildcareApp,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Heterogeneous effects of the information-only treatment on early childcare access

```{r RobustnessHTESESGraphsT1EarlyChildcareAccess,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Heterogeneous effects of the information-only treatment on daycare applications

```{r RobustnessHTESESGraphsT1DaycareApp,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```


#### Heterogeneous effects of the information-only treatment on daycare access

```{r RobustnessHTESESGraphsT1DaycareAccess,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Table: Heterogeneous effects of the information-only treatment on early childcare and daycare applications and access by SES as measured by the occupation status of the mother (ISEI)


```{r RobustnessHTESESsTableT1ISEIMother,echo=FALSE, results='asis', cache=TRUE,out.width='100%',}
```

#### Table: Heterogeneous effects of the information-only treatment on early childcare and daycare applications and access by SES as measured by the composite index of SES


```{r RobustnessHTESESsTableT1CompositeSES,echo=FALSE, results='asis', cache=TRUE, out.width='100%',}
```


### Information + support treatment

#### Heterogeneous effects of the information + support treatment on early childcare applications

```{r RobustnessHTESESGraphsT2EarlychildcareApp,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Heterogeneous effects of the information + support treatment on early childcare access

```{r RobustnessHTESESGraphsT2EarlychildcareAccess,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Table: heterogenous effects of the information + support treatment on early childcare applications and access using the occupation status of the mother (ISEI)

```{r RobustnessHTESESTableT2ECISEIMotherEC,echo=FALSE, results='asis', cache=TRUE, out.width='100%'}
```

#### Table: heterogenous effects of the information + support treatment on early childcare applications and access using the composite index of SES

```{r RobustnessHTESESTableT2ECSES,echo=FALSE, results='asis', cache=TRUE, out.width='100%'}
```



#### Heterogeneous effects of the information + support treatment on daycare applications

```{r RobustnessHTESESGraphsT2DaycareApp,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Heterogeneous effects of the information + support treatment on daycare access

```{r RobustnessHTESESGraphsT2DaycareAccess,echo=FALSE,out.width='100%', results='asis', cache=TRUE}
```

#### Table: heterogenous effects of the information + support treatment on daycare applications and access using the occupation status of the mother (ISEI)

```{r RobustnessHTESESsTableT2DaycareISEIMother,echo=FALSE, results='asis', cache=TRUE}
```

#### Table: heterogenous effects of the information + support treatment on daycare applications and access using the composite index of SES

```{r RobustnessHTESESsTableT2DaycareCompositeSES,echo=FALSE, results='asis', cache=TRUE, out.width='100%'}
```

## Sensitivity analysis of the main results: migration background measurment

### Information-only treatment

#### Heterogeneous effects of the information-only treatment on early childcare applications and access

```{r MigTablesEarlyChilcareInfoOnly,echo=FALSE, results='asis', cache=TRUE, out.width='100%'}
```

#### Heterogeneous effects of the information-only treatment on daycare applications and access

```{r MigTablesDaycareInfoOnly,echo=FALSE, results='asis', cache=TRUE, out.width='100%'}
```

#### Heterogeneous effects of the information + support treatment on early childcare applications and access

```{r MigTablesEarlyChilcare,echo=FALSE, results='asis', cache=TRUE, out.width='100%'}
```

#### Heterogeneous effects of the information + support treatment on daycare applications and access


```{r MigTablesDaycare,echo=FALSE, results='asis', cache=TRUE, out.width='100%'}
```


## Sensitivity analysis of the main results: models

### Classical Ordinary-Least-Squares (OLS) models

We reproduce our results using classical OLS models instead of stacked regressions. The former are more common to analyse RCT results. However, they can introduce contamination bias in the estimates (Goldsmith-Pickham, 2024).

#### Main effects
```{r RobustnessClassicalOLS,echo=FALSE, results='asis', cache=TRUE}
```

#### HTE 

```{r RobustnessOLSHTE,echo=FALSE, results='asis', cache=TRUE}
```

### Logit models

We reproduce our results using logit models. Note that logit models remove fixed effects with homogeneous outcomes (only 0 or only 1) from the analysis, which reduces power.

#### Main effects

```{r RobustnessLogitMainTable,echo=FALSE, results='asis', cache=TRUE}
```

#### HTE

```{r RobustnessLogitHTE,echo=FALSE, results='asis', cache=TRUE}
```


# Power analysis

## What was pre-registred

- Sample size: 1687 families minimum. 

This is based on power calculations using the Powerup software with the following parameters: 

a) minimum detectable effect size for the main effect: 0.15; 
b) randomization procedure as described above; 
c) R2=40% owing mainly to baseline information on intention to apply for ECS; 
d) T1=33%, T2=33% C=34%; 
e) blocks: 9; 
f) two-tailed alpha level: 5%; 
g) statistical power: 80%; 
h) attrition at the endline: 25%.


.15 effect is a Cohen D $i.e.$ $\frac{\beta}{\sigma_{y|X}}$. Therefore, with a binary variable such as "application" with an average of .8, the variance is $p(1-p)=$ `r .8*.2` and $SD=\left(p(1-p)\right)^{\frac{1}{2}}=$ `r sqrt(.8*.2)`. Thus, the equivalent treatment effect that was pre-registered is $.15\times SD=$ `r .15*sqrt(.8*.2)`pp.

First, we use the R package `pwrss` with simple and convenient functions. I use a 30% R2 which is closer to those we have in our paper. I also use the actual sample size and therefore assume random missing data (like we do in the paper, implicitly).

```{r, include=FALSE,results='hide'}
p_load(pwrss)

p <- 0.50
M.0 <- .8
Sample.Size = nrow(MainDB %>% filter(Responded==1 & Assignment!="T1"))
# 
# powerbasic <- pwrss.t.reg(beta1 = 0.05, sdy = sqrt(M.0*(1-M.0)), sdx = sqrt(p*(1-p)), k = 9, r2 = 0.40, 
#             power = .80, alpha = 0.05, alternative = "not equal") 
# 
# 
powerbasic6 <- pwrss.t.reg(beta1 = 0.06, sdy = sqrt(M.0*(1-M.0)), sdx = sqrt(p*(1-p)), k = 12*6, r2 = 0.30, 
            n = Sample.Size, alpha = 0.05, alternative = "not equal") 

tidy.power6 <- unlist(powerbasic6) %>%  t() %>%  as.data.frame()

powerbasic5 <- pwrss.t.reg(beta1 = 0.05, sdy = sqrt(M.0*(1-M.0)), sdx = sqrt(p*(1-p)), k = 12*6, r2 = 0.30, 
            n = Sample.Size, alpha = 0.05, alternative = "not equal") 

tidy.power5 <- unlist(powerbasic5) %>%  t() %>%  as.data.frame()

powerbasic5b <- pwrss.t.reg(beta1 = 0.05, sdy = sqrt(M.0*(1-M.0)), sdx = sqrt(p*(1-p)), k = 12*6, r2 = 0.50, 
            n = Sample.Size, alpha = 0.05, alternative = "not equal") 

tidy.power5b <- unlist(powerbasic5b) %>%  t() %>%  as.data.frame()



```

We start with a simple power calculation for comparing a pair of treatment arms for "applied for childcare". For that we need the mean in the control group: Say $M.0$= `r M.0`, the sample size $N=$ `r Sample.Size`, the number of covariates or fixed effects in the regression (Here, 12 blocks $\times$ 6 randomisation waves = `r 12*6`), an $R^2$ and minimal detectable effect $\beta_z$.

```{r eval=F}
powerbasic6 <- pwrss.t.reg(beta1 = 0.06, sdy = sqrt(M.0*(1-M.0)), sdx = sqrt(p*(1-p)), k = 12*6, r2 = 0.30, 
            n = Sample.Size, alpha = 0.05, alternative = "not equal") 
```

The simple student test for $H_0:\beta=0\quad; \quad H_a:\beta\neq0$ has `r round(as.numeric(tidy.power6$power)*100,0)`% power for a 5% first type risk and a 6pp MDE.
However, power for an MDE of 5 pp is `r round(as.numeric(tidy.power5$power)*100,0)`%. 

Therefore, a single t-test (i.e. without multiple testing correction, heteroskedasticity and cluster robust SE) has not enough power for the effect size we have. However, we may have enough power with post-lasso regression if the $R^2$ is about 50% (in Which case, the power becomes `r round(as.numeric(tidy.power5b$power)*100,0)`%). 
This is what we 